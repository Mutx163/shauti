这是一个基于 **React Native** 和 **Expo** 开发的刷题应用（"刷题宝"）。它使用本地 **SQLite** 数据库存储题库和做题进度，支持离线使用。

### 1. 项目架构概览 (Project Overview)

*   **技术栈**:
    *   **核心框架**: React Native (Expo SDK 54)
    *   **UI 组件库**: React Native Paper (Material Design 风格)
    *   **导航**: React Navigation (Native Stack + Material Top Tabs)
    *   **数据存储**: `expo-sqlite` (本地关系型数据库)
    *   **图表**: `react-native-gifted-charts` (统计图表)
*   **代码结构**:
    *   `src/screens/`: 所有页面组件
    *   `src/db/`: 数据库初始化和操作逻辑
    *   `src/components/`: 通用组件 (如 `MathText` 用于显示数学公式)
    *   `src/services/`: 业务逻辑服务 (如 `SubscriptionService`)
    *   `App.tsx`: 应用入口，负责路由配置和数据库初始化

### 2. 核心实现原理 (Implementation Principles)

*   **数据驱动**:
    应用启动时 (`App.tsx`) 会首先调用 `initDatabase` 初始化 SQLite 数据库，创建核心表：
    *   `question_banks`: 题库元数据
    *   `questions`: 题目具体内容 (支持单选、多选、判断、填空、简答)
    *   `user_progress`: 记录用户的每一次答题结果 (正确/错误)，用于统计和错题本
    *   `question_mastery`: 记录每道题的掌握程度 (SRS 算法基础)

*   **刷题逻辑**:
    *   **普通刷题 (`QuizScreen`)**: 根据选定的 `bankId` 从 `questions` 表加载题目。答题后，结果实时写入 `user_progress` 表。
    *   **错题复习 (`MistakeScreen`)**: 查询 `user_progress` 中最新一次回答错误的题目，按题库分组展示。
    *   **模拟考试 (`MockExamScreen`)**: 随机抽取题目组成试卷，模拟真实考试环境。

### 3. 界面关系与导航 (Navigation & Screens)

应用采用了 **Stack + Tab** 的混合导航模式：

*   **根导航 (Root Stack)**: 管理所有全屏页面
    *   **主界面 (`MainTabs`)**: 包含底部的四个核心标签页
        1.  **首页 (`HomeScreen`)**: 题库列表，添加题库入口，全局搜索。
        2.  **练习 (`MistakeScreen`)**: 这里的"练习"实际上是**错题本**主页，同时也包含进入"全真模拟考试"的入口。
        3.  **统计 (`StatsScreen`)**: 展示学习数据图表。
        4.  **设置 (`SettingsScreen`)**: 应用设置。
    *   **功能页面 (Push Screens)**:
        *   `Quiz`: 核心刷题页面，从首页或错题本进入。
        *   `QuizConfig`: 刷题前的设置页 (选模式、题量等)。
        *   `MockConfig` / `MockExam`: 模拟考试流程。
        *   `AddBank` / `ManualAdd`: 导入或手动添加题目。
        *   `SrsReview`: 记忆曲线复习页面。

### 总结
这个项目是一个典型的**本地优先 (Local-First)** 应用，数据完全存储在用户设备上。它通过 SQLite 强大的查询能力实现了错题筛选、统计分析和复杂的抽题逻辑。

---
**下一步建议**:
如果您想深入了解某个具体模块（例如：如何解析导入的题库、SRS记忆算法的具体实现、或者如何自定义UI主题），请告诉我，我可以为您详细解读相关代码。